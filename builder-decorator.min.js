//! MIT License, Topher Winward 2015.
//! https://github.com/Winwardo/js-builder-decorator
"use strict";!function(){var a=function(a,b){function c(a){if(null===a||"object"!=typeof a)return a;var b=a;for(var d in a)b[d]=c(a[d]);return b}var d=require("underscore"),e=require("deep-freeze"),f=function(a,b){var d=c(a);if(b===!0)for(var e in d)d[e]=null;return d},g=function(a,b){void 0==b&&(b={});var g;g=a instanceof Function?f(new a,b.allFieldsMustBeSet):f(a,b.allFieldsMustBeSet);var h={__builderData:g},i=function(a){return function(b){var c=d.clone(this.__builderData);c[a]=b;var e={};return e=j(e,g),k(e),e.__builderData=c,e}},j=function(a,b){var d=c(a);for(var e in b)d[e]=i(e);return d};h=j(h,g);var k=function(a){var d=c(a);return d.build=function(){var a=this;if(b.allFieldsMustBeSet){var d=[];for(var f in a.__builderData){var h=a.__builderData[f];(null===h||void 0===h)&&d.push(f)}if(0!==d.length)throw"The following fields were not set: "+d}var i={},j=function(a,b){var d,f=a[b];return d=null===f?null:e(c(a[b])),function(){return d}};for(var f in g)b.lockFunctionsAfterBuild&&g[f]instanceof Function?i[f]=a.__builderData[f]:i[f]=j(a.__builderData,f);return i},d};return h=k(h)};return function(){return g(a,b)}};"undefined"!=typeof module&&(module.exports={BuilderDecorator:a}),"undefined"!=typeof window&&(window.BuilderDecorator=a)}();